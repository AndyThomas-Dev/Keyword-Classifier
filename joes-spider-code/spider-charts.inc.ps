/Helvetica-Narrow findfont
0.05 scalefont
setfont

200 dup scale
1 72 div  setlinewidth
1.0 1.0 translate
0 0 moveto

(utilities.inc.ps) run

/percent {
    /n exch def
    n 100 mul round cvi =string cvs
    (%)
    concat
} bind def

/hairline {
    gsave
    1 300 div setlinewidth
    1 setgray
    stroke
    grestore
    1 600 div setlinewidth
    0 setgray
    stroke
} bind def

/centershow-outline {
    /input exch def
    gsave
    input stringwidth pop -2 div
    0 rmoveto
    input true charpath
    1 200 div setlinewidth
    1 setgray
    stroke
    grestore
} bind def

/center-show {
    /input exch def 
    gsave
    input centershow-outline
    input stringwidth pop -2 div
    0 rmoveto
    0 setgray
    input show
    grestore
} bind def


/plot {
    /data exch def
    /labels exch def
    /title exch def
    
    /n data length def
    /angle 360 n div def

    /normaldata data normalize def
    /offset 0.03 def
    /max normaldata amaximum offset add def

    gsave

    % Radar 
    gsave
    newpath
    normaldata aload pop
    dup 0 exch moveto
    n {
	/d exch def
	0 d lineto
	angle neg rotate
    } repeat
    closepath
    0 setgray
    fill
    grestore

    % Axes
    gsave
    newpath
    1 n div 0 moveto
    0 0 1 n div 0 360 arc
    n {
	0 0 moveto
	0 max lineto
	angle neg rotate
    } repeat
    max 0 moveto
    0 0 max 0 360 arc
    hairline
    grestore

    % Labels
    gsave
    /i 0 def
    /m data sum def
    normaldata aload
    length { 
	/d exch def
	gsave
	0 d moveto
	i { angle rotate } repeat
	d percent center-show
	grestore
	
	angle neg rotate
	/i i 1 add def
    } repeat
    grestore
    
    % Axes Labels
    gsave
    labels aload
    length {
	gsave
	0 max offset add moveto
	dup stringwidth pop 2 div neg 0 rmoveto show
	grestore
	angle neg rotate
	%pop
    } repeat
    grestore

    % Title
    gsave
    0 max offset 3 mul add moveto
    title dup stringwidth pop 2 div neg 0 rmoveto
    show
    grestore

    grestore
} bind def

/ss (Systems Security) def
/sps (Software & Platform Security) def
/is (Infrastructure Security) def
/hora (Human Organisational & Regulatory Aspects) def
/ad (Attacks & Defences) def

/cyboklabels [ss sps is hora ad] def
